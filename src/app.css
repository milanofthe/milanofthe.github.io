@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	html {
		scroll-behavior: smooth;
	}

	::selection {
		background-color: rgba(0, 217, 192, 0.3);
		color: #f0efe9;
	}

	/* Custom scrollbar */
	::-webkit-scrollbar {
		width: 8px;
	}

	::-webkit-scrollbar-track {
		background: #0f0f0f;
	}

	::-webkit-scrollbar-thumb {
		background: #333;
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: #00d9c0;
	}
}

@layer components {
	.text-gradient {
		@apply bg-gradient-to-r from-teal to-teal-light bg-clip-text text-transparent;
	}

	.text-gradient-amber {
		@apply bg-gradient-to-r from-amber to-amber-light bg-clip-text text-transparent;
	}

	.glow-teal {
		box-shadow: 0 0 20px rgba(0, 217, 192, 0.3), 0 0 40px rgba(0, 217, 192, 0.1);
	}

	.glow-amber {
		box-shadow: 0 0 20px rgba(245, 166, 35, 0.3), 0 0 40px rgba(245, 166, 35, 0.1);
	}

	.border-glow {
		@apply border border-teal/20;
		box-shadow: inset 0 0 20px rgba(0, 217, 192, 0.05);
	}

	.card {
		@apply bg-charcoal-light border border-cream/10 rounded-lg;
	}

	.card-hover {
		@apply transition-all duration-300 hover:border-teal/30;
	}

	.btn-primary {
		@apply inline-flex items-center gap-2 px-6 py-3 bg-teal text-charcoal font-display font-semibold rounded-lg transition-all duration-300 hover:bg-teal-light hover:shadow-lg hover:shadow-teal/20;
	}

	.btn-secondary {
		@apply inline-flex items-center gap-2 px-6 py-3 border border-teal/50 text-teal font-display font-medium rounded-lg transition-all duration-300 hover:bg-teal/10 hover:border-teal;
	}

	.link {
		@apply text-teal transition-colors duration-200 hover:text-teal-light;
	}

	.section-label {
		@apply font-mono text-xs uppercase tracking-[0.2em] text-teal;
	}
}

@layer utilities {
	.animate-delay-100 {
		animation-delay: 100ms;
	}
	.animate-delay-200 {
		animation-delay: 200ms;
	}
	.animate-delay-300 {
		animation-delay: 300ms;
	}
	.animate-delay-400 {
		animation-delay: 400ms;
	}
	.animate-delay-500 {
		animation-delay: 500ms;
	}
}

/* Portal tile animation */
.portal-overlay {
	position: fixed;
	z-index: 50;
	overflow: hidden;
	border-radius: 0.75rem;
	transition: top 350ms cubic-bezier(0.16, 1, 0.3, 1),
	            left 350ms cubic-bezier(0.16, 1, 0.3, 1),
	            width 350ms cubic-bezier(0.16, 1, 0.3, 1),
	            height 350ms cubic-bezier(0.16, 1, 0.3, 1),
	            border-radius 350ms cubic-bezier(0.16, 1, 0.3, 1);
}

.portal-overlay.expanding {
	top: 0 !important;
	left: 0 !important;
	width: 100vw !important;
	height: 100vh !important;
	border-radius: 0 !important;
}

.portal-overlay img {
	transition: transform 350ms cubic-bezier(0.16, 1, 0.3, 1);
}

.portal-overlay.expanding img {
	transform: scale(1.05);
}

/* Code rain grid styles */
.code-grid {
	font-family: 'JetBrains Mono', 'Fira Code', monospace;
	white-space: pre;
	overflow: hidden;
	width: 100%;
}

.code-grid-line {
	line-height: inherit;
	overflow: hidden;
}

.code-grid-filler {
	color: rgba(240, 239, 233, 0.07);
}

.code-grid-content {
	color: rgba(240, 239, 233, 0.85);
}

.code-grid-heading {
	color: #00d9c0;
	font-weight: bold;
}

.code-grid-heading-pathsim {
	color: #0070c0;
	font-weight: bold;
}

.code-grid-heading-pysimhub {
	color: #6366f1;
	font-weight: bold;
}

.code-grid-cta {
	color: rgba(0, 217, 192, 0.9);
	cursor: pointer;
}

.code-grid-link {
	color: rgba(0, 217, 192, 0.7);
}

.code-grid-link-pathsim {
	color: #0070c0;
}

.code-grid-link-pysimhub {
	color: #6366f1;
}

.code-grid-footer {
	color: rgba(240, 239, 233, 0.4);
}

.code-grid-empty {
	color: transparent;
}

.code-grid-form-field {
	color: rgba(0, 217, 192, 0.4);
}

.code-grid-frame {
	color: #00d9c0;
}

.code-grid-frame-pathsim {
	color: #0070c0;
}

.code-grid-frame-pysimhub {
	color: #6366f1;
}

/* Hovered word highlight: brightens the filler token under the cursor */
.hovered-word {
	position: absolute;
	font-family: 'JetBrains Mono', 'Fira Code', monospace;
	white-space: pre;
	color: rgba(240, 239, 233, 0.4);
	pointer-events: none;
	z-index: 1;
}

/* Typewriter: filler-colored base with real-colored overlay that reveals L-to-R */
.tw-wrapper {
	position: relative;
	display: inline-block;
	vertical-align: baseline;
}

.tw-overlay {
	position: absolute;
	inset: 0;
	clip-path: inset(0 100% 0 0);
}

@keyframes type-reveal {
	from { clip-path: inset(0 100% 0 0); }
	to { clip-path: inset(0 0% 0 0); }
}
